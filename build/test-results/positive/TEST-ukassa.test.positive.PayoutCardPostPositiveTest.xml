<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="ukassa.test.positive.PayoutCardPostPositiveTest" tests="3" skipped="0" failures="0" errors="0" timestamp="2024-04-03T12:57:25" hostname="user" time="8.347">
  <properties/>
  <testcase name="Проверка отображения правильной суммы в ответе" classname="ukassa.test.positive.PayoutCardPostPositiveTest" time="5.855"/>
  <testcase name="Проверка статуса 'waiting_for_capture'" classname="ukassa.test.positive.PayoutCardPostPositiveTest" time="1.687"/>
  <testcase name="Проверка card_type в ответе" classname="ukassa.test.positive.PayoutCardPostPositiveTest" time="0.795"/>
  <system-out><![CDATA[Request URI:	https://api.yookassa.ru/v3/payments
Headers:		Idempotence-Key=def79b94-a7f3-401b-9cde-93e6e998d26a
				Authorization=Basic MzU5MjQwOnRlc3RfeGpoWUVnODU4akYwUjF6YVlRdGRrV1lPRHJtOUhxN1Q4cXlzaWFEWC1QOA==
				Accept=*/*
				Content-Type=application/json
Body:
{
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "payment_method_data": {
        "type": "bank_card",
        "card": {
            "cardholder": "MR CARDHOLDER",
            "csc": "213",
            "expiry_month": "01",
            "expiry_year": "2020",
            "number": "5555555555554444"
        }
    },
    "confirmation": {
        "type": "redirect",
        "return_url": "https://www.example.com/return_url"
    },
    "description": "Заказ №74"
}
HTTP/1.1 200 
Server: nginx
Date: Wed, 03 Apr 2024 12:57:30 GMT
Content-Type: application/json;charset=UTF-8
Content-Length: 1070
Connection: keep-alive
Keep-Alive: timeout=12
Signature: v1 2d9f65fa 1 MGQCMHwnrhQB5ilQogfrgn5j+SM7+7VlM9F5NGG3JB4tV0LZ/rzO7/vIhvyzMuPejDTeGwIwTghKOzzUrWfMktAgPAxuSQYaa3p6r1hTUk4ZkTKbsrrL+s/eUD/n1IoKrppkxRa2
Strict-Transport-Security: max-age=15768000

{
    "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
    "status": "waiting_for_capture",
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "description": "Заказ №74",
    "recipient": {
        "account_id": "359240",
        "gateway_id": "2215148"
    },
    "payment_method": {
        "type": "bank_card",
        "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
        "saved": false,
        "title": "Bank card *4444",
        "card": {
            "first6": "555555",
            "last4": "4444",
            "expiry_year": "2020",
            "expiry_month": "01",
            "card_type": "MasterCard",
            "card_product": {
                "code": "E"
            },
            "issuer_country": "US"
        }
    },
    "created_at": "2024-04-03T12:57:29.811Z",
    "expires_at": "2024-04-10T12:57:30.562Z",
    "test": true,
    "paid": true,
    "refundable": false,
    "metadata": {
        
    },
    "authorization_details": {
        "rrn": "845417189588656",
        "auth_code": "373731",
        "three_d_secure": {
            "applied": false,
            "method_completed": false,
            "challenge_completed": false
        }
    }
}
Request URI:	https://api.yookassa.ru/v3/payments
Headers:		Idempotence-Key=def79b94-a7f3-401b-9cde-93e6e998d26a
				Authorization=Basic MzU5MjQwOnRlc3RfeGpoWUVnODU4akYwUjF6YVlRdGRrV1lPRHJtOUhxN1Q4cXlzaWFEWC1QOA==
				Accept=*/*
				Content-Type=application/json
Body:
{
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "payment_method_data": {
        "type": "bank_card",
        "card": {
            "cardholder": "MR CARDHOLDER",
            "csc": "213",
            "expiry_month": "01",
            "expiry_year": "2020",
            "number": "5555555555554444"
        }
    },
    "confirmation": {
        "type": "redirect",
        "return_url": "https://www.example.com/return_url"
    },
    "description": "Заказ №74"
}
HTTP/1.1 200 
Server: nginx
Date: Wed, 03 Apr 2024 12:57:31 GMT
Content-Type: application/json;charset=UTF-8
Content-Length: 1070
Connection: keep-alive
Keep-Alive: timeout=12
Signature: v1 2d9f65fb 1 MGQCMASb+KCPyF+bUsv/0ZmsBpeKZfD86ozzDSlr7nJOpDoAY20ZB1P06b3epTqH5+fVvwIwWn+GR3bso4JUU+Pkv1fXzfq7tmmrxqyTH+/RS78mVDdamMarvuso2SbtXjbJg+d0
Strict-Transport-Security: max-age=15768000

{
    "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
    "status": "waiting_for_capture",
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "description": "Заказ №74",
    "recipient": {
        "account_id": "359240",
        "gateway_id": "2215148"
    },
    "payment_method": {
        "type": "bank_card",
        "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
        "saved": false,
        "title": "Bank card *4444",
        "card": {
            "first6": "555555",
            "last4": "4444",
            "expiry_year": "2020",
            "expiry_month": "01",
            "card_type": "MasterCard",
            "card_product": {
                "code": "E"
            },
            "issuer_country": "US"
        }
    },
    "created_at": "2024-04-03T12:57:29.811Z",
    "expires_at": "2024-04-10T12:57:30.562Z",
    "test": true,
    "paid": true,
    "refundable": false,
    "metadata": {
        
    },
    "authorization_details": {
        "rrn": "845417189588656",
        "auth_code": "373731",
        "three_d_secure": {
            "applied": false,
            "method_completed": false,
            "challenge_completed": false
        }
    }
}
Request URI:	https://api.yookassa.ru/v3/payments
Headers:		Idempotence-Key=def79b94-a7f3-401b-9cde-93e6e998d26a
				Authorization=Basic MzU5MjQwOnRlc3RfeGpoWUVnODU4akYwUjF6YVlRdGRrV1lPRHJtOUhxN1Q4cXlzaWFEWC1QOA==
				Accept=*/*
				Content-Type=application/json
Body:
{
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "payment_method_data": {
        "type": "bank_card",
        "card": {
            "cardholder": "MR CARDHOLDER",
            "csc": "213",
            "expiry_month": "01",
            "expiry_year": "2020",
            "number": "5555555555554444"
        }
    },
    "confirmation": {
        "type": "redirect",
        "return_url": "https://www.example.com/return_url"
    },
    "description": "Заказ №74"
}
HTTP/1.1 200 
Server: nginx
Date: Wed, 03 Apr 2024 12:57:33 GMT
Content-Type: application/json;charset=UTF-8
Content-Length: 1070
Connection: keep-alive
Keep-Alive: timeout=12
Signature: v1 2d9f65fd 1 MGQCMBWhwP4rRzJ9d5jnGdXzWbr91oWmtLOoPW/JMHNz1MSXvD+ArCuy4VSQbLKKFkeNWAIwHT/haIZJ60wuKTvlLZwHNb7RCJU2qSXQeTZJn18qGIy/mYkou1DlMyMimXnvhILQ
Strict-Transport-Security: max-age=15768000

{
    "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
    "status": "waiting_for_capture",
    "amount": {
        "value": "150.00",
        "currency": "RUB"
    },
    "description": "Заказ №74",
    "recipient": {
        "account_id": "359240",
        "gateway_id": "2215148"
    },
    "payment_method": {
        "type": "bank_card",
        "id": "2d9f65f9-000f-5000-a000-13cd40b74c0f",
        "saved": false,
        "title": "Bank card *4444",
        "card": {
            "first6": "555555",
            "last4": "4444",
            "expiry_year": "2020",
            "expiry_month": "01",
            "card_type": "MasterCard",
            "card_product": {
                "code": "E"
            },
            "issuer_country": "US"
        }
    },
    "created_at": "2024-04-03T12:57:29.811Z",
    "expires_at": "2024-04-10T12:57:30.562Z",
    "test": true,
    "paid": true,
    "refundable": false,
    "metadata": {
        
    },
    "authorization_details": {
        "rrn": "845417189588656",
        "auth_code": "373731",
        "three_d_secure": {
            "applied": false,
            "method_completed": false,
            "challenge_completed": false
        }
    }
}
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
